{"version":3,"file":"2-form.js","sources":["../src/js/local-storage-api.js","../src/js/2-from.js"],"sourcesContent":["export const setItem = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.error('Error saving to localStorage', error);\n  }\n};\n\nexport const getItem = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (error) {\n    console.error('Error reading from localStorage', error);\n    return null;\n  }\n};\n\nexport default {\n  setItem,\n  getItem,\n};\n","let formData = { email: '', message: '' };\nconst form = document.querySelector('.feedback-form');\nconst key = 'feedback-form-state';\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', onFormSubmit);\n\nimport * as ls from './local-storage-api';\nloadData();\n\nfunction loadData() {\n  const savedData = ls.getItem(key);\n  if (savedData !== null) {\n    formData = savedData;\n    form.elements.email.value = savedData.email;\n    form.elements.message.value = savedData.message;\n  }\n}\n\nfunction onFormInput(event) {\n  const input = event.target;\n  formData[input.name] = input.value;\n  ls.setItem(key, formData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  formData = { email: '', message: '' };\n  form.reset();\n  localStorage.removeItem(key);\n}\n"],"names":["setItem","key","value","error","getItem","formData","form","onFormInput","onFormSubmit","loadData","savedData","ls.getItem","event","input","ls.setItem"],"mappings":"oDAAO,MAAMA,EAAU,CAACC,EAAKC,IAAU,CACrC,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CAChD,OAAQC,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACvD,CACA,EAEaC,EAAUH,GAAO,CAC5B,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC5C,OAAQE,EAAO,CACd,eAAQ,MAAM,kCAAmCA,CAAK,EAC/C,IACX,CACA,ECfA,IAAIE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EACzC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CL,EAAM,sBAEZK,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAG5CC,EAAU,EAEV,SAASA,GAAW,CAClB,MAAMC,EAAYC,EAAWV,CAAG,EAC5BS,IAAc,OAChBL,EAAWK,EACXJ,EAAK,SAAS,MAAM,MAAQI,EAAU,MACtCJ,EAAK,SAAS,QAAQ,MAAQI,EAAU,QAE5C,CAEA,SAASH,EAAYK,EAAO,CAC1B,MAAMC,EAAQD,EAAM,OACpBP,EAASQ,EAAM,IAAI,EAAIA,EAAM,MAC7BC,EAAWb,EAAKI,CAAQ,CAC1B,CAEA,SAASG,EAAaI,EAAO,CAE3B,GADAA,EAAM,eAAgB,EAClBP,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACJ,CAEE,QAAQ,IAAIA,CAAQ,EACpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EACrCC,EAAK,MAAO,EACZ,aAAa,WAAWL,CAAG,CAC7B"}